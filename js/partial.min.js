var partial=function(){var getPage=function(url,elem,callback){var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return xhr.open("GET",url),xhr.onreadystatechange=function(){if(xhr.readyState>3&&200==xhr.status){elem.innerHTML=xhr.responseText;var noScript=elem.getAttribute("noscript");if(void 0==noScript||"false"==noScript){for(var scripts=elem.getElementsByTagName("script"),ix=0;ix<scripts.length;ix++){var src=scripts[ix].getAttribute("src");src?getScript(src):eval(scripts[ix].text)}var _partials=elem.getElementsByTagName("partial");0!=_partials.length&&LoadPartials(_partials)}void 0!==callback&&callback(elem)}},xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(),xhr},reload=function(a){var b=document.querySelectorAll(a)[0],c="",d=void 0;void 0==b&&null==b||(c=b.getAttribute("src"),d=b.getAttribute("onload")),LoadAfterDelay(d,b,c,0)},LoadPartials=function(a){for(var b=0;b<a.length;++b){var c=a[b],d=c.getAttribute("src"),e=c.getAttribute("onload"),f=c.getAttribute("loadafter"),g=c.getAttribute("autorefresh");f=void 0===f||null===f?0:isNaN(f)?0:parseInt(f),g=void 0===g||null===g?0:isNaN(g)?0:parseInt(g),g>0?(f=g,setInterval(function(){console.log("Autorefreshed after "+g),LoadAfterDelay(e,c,d,f)},g)):LoadAfterDelay(e,c,d,f)}},getScript=function(url){var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return xhr.open("GET",url),xhr.onreadystatechange=function(){xhr.readyState>3&&200==xhr.status&&eval(xhr.responseText)},xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(),xhr},LoadAfterDelay=function(func,item,src,loadafter){setTimeout(function(){func=eval(func),null==func||void 0==func?getPage(src,item):getPage(src,item,func)},loadafter)},partials=document.getElementsByTagName("partial");return 0!=partials.length&&LoadPartials(partials),{getPage:getPage,reload:reload}}();