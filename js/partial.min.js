var partial=function(){var partials=document.getElementsByTagName("partial");console.log(partials.length);for(var getPage=function(url,elem,callback){var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return xhr.open("GET",url),xhr.onreadystatechange=function(){if(xhr.readyState>3&&200==xhr.status){elem.innerHTML=xhr.responseText;for(var scripts=elem.getElementsByTagName("script"),ix=0;ix<scripts.length;ix++){var src=scripts[ix].getAttribute("src");src?getScript(src):eval(scripts[ix].text)}void 0!==callback&&callback(elem)}},xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(),xhr},getScript=function(url){var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return xhr.open("GET",url),xhr.onreadystatechange=function(){xhr.readyState>3&&200==xhr.status&&eval(xhr.responseText)},xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(),xhr},index=0;index<partials.length;++index){var item=partials[index],src=item.getAttribute("src"),func=item.getAttribute("onload");func=eval(func),null==func||void 0==func?getPage(src,item):getPage(src,item,func)}return{getPage:getPage}}();